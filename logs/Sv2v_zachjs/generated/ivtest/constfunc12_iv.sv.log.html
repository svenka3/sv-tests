<head>
  <style>
    .log { font-family: "Courier New", Consolas, monospace; font-size: 80%; }
    .test-failed { background-color: #ffaaaa; }
    .test-passed { background-color: #aaffaa; }
  </style>
</head>
<body>
<h3><a href="https://github.com/zachjs/sv2v" target="_blank">zachjs-sv2v</a></h3>
<pre class="test-passed">
description: Test imported from ivtest
rc: 0 (means success: 1)
tags: ivtest
incdirs: /tmpfs/src/github/sv-tests/third_party/tests/ivtest /tmpfs/src/github/sv-tests/third_party/tests/ivtest/ivltests
top_module: 
type: parsing
mode: parsing
files: <a href="../../../../third_party/tests/ivtest/ivltests/constfunc12.v.html" target="file-frame">third_party/tests/ivtest/ivltests/constfunc12.v</a>
defines: 
time_elapsed: 0.150s
ram usage: 11480 KB
</pre>
<pre class="log">

zachjs-sv2v -I/tmpfs/src/github/sv-tests/third_party/tests/ivtest -I/tmpfs/src/github/sv-tests/third_party/tests/ivtest/ivltests <a href="../../../../third_party/tests/ivtest/ivltests/constfunc12.v.html" target="file-frame">third_party/tests/ivtest/ivltests/constfunc12.v</a>
module constfunc12;
	function [1:0] onehot_to_binary;
		input reg [3:1] x;
		case (x)
			default: onehot_to_binary = 0;
			3&#39;b001: onehot_to_binary = 1;
			3&#39;b010: onehot_to_binary = 2;
			3&#39;b100: onehot_to_binary = 3;
		endcase
	endfunction
	function [1:0] find_first_one;
		input reg [3:1] x;
		casez (x)
			3&#39;b1zz: find_first_one = 3;
			3&#39;b01z: find_first_one = 2;
			3&#39;b001: find_first_one = 1;
			default: find_first_one = 0;
		endcase
	endfunction
	function [1:0] find_first_zero;
		input reg [3:1] x;
		casex (x)
			3&#39;b0zz: find_first_zero = 3;
			3&#39;b10x: find_first_zero = 2;
			3&#39;b110: find_first_zero = 1;
			default: find_first_zero = 0;
		endcase
	endfunction
	function [1:0] match_real_value;
		input real x;
		case (x)
			1.0: match_real_value = 1;
			2.0: match_real_value = 2;
			3.0: match_real_value = 3;
			default: match_real_value = 0;
		endcase
	endfunction
	localparam otb0 = onehot_to_binary(3&#39;b000);
	localparam otb1 = onehot_to_binary(3&#39;b001);
	localparam otb2 = onehot_to_binary(3&#39;b010);
	localparam otb3 = onehot_to_binary(3&#39;b100);
	localparam otb4 = onehot_to_binary(3&#39;b101);
	localparam otb5 = onehot_to_binary(3&#39;b10z);
	localparam otb6 = onehot_to_binary(3&#39;bx01);
	localparam ffo0 = find_first_one(3&#39;b000);
	localparam ffo1 = find_first_one(3&#39;b001);
	localparam ffo2 = find_first_one(3&#39;b01x);
	localparam ffo3 = find_first_one(3&#39;b1xx);
	localparam ffo4 = find_first_one(3&#39;bxx1);
	localparam ffo5 = find_first_one(3&#39;b00z);
	localparam ffo6 = find_first_one(3&#39;b0zz);
	localparam ffo7 = find_first_one(3&#39;bzzz);
	localparam ffz0 = find_first_zero(3&#39;b111);
	localparam ffz1 = find_first_zero(3&#39;b110);
	localparam ffz2 = find_first_zero(3&#39;b10x);
	localparam ffz3 = find_first_zero(3&#39;b0xx);
	localparam ffz4 = find_first_zero(3&#39;bzzz);
	localparam ffz5 = find_first_zero(3&#39;b11x);
	localparam ffz6 = find_first_zero(3&#39;b1xx);
	localparam ffz7 = find_first_zero(3&#39;bxxx);
	localparam mrv0 = match_real_value(0.0);
	localparam mrv1 = match_real_value(1.0);
	localparam mrv2 = match_real_value(2.0);
	localparam mrv3 = match_real_value(3.0);
	localparam mrv4 = match_real_value(4.0);
	reg failed = 0;
	initial begin
		$display(&#34;%d&#34;, otb0);
		if (otb0 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, otb1);
		if (otb1 !== 2&#39;d1)
			failed = 1;
		$display(&#34;%d&#34;, otb2);
		if (otb2 !== 2&#39;d2)
			failed = 1;
		$display(&#34;%d&#34;, otb3);
		if (otb3 !== 2&#39;d3)
			failed = 1;
		$display(&#34;%d&#34;, otb4);
		if (otb4 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, otb5);
		if (otb5 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, otb6);
		if (otb6 !== 2&#39;d0)
			failed = 1;
		$display(&#34;&#34;);
		$display(&#34;%d&#34;, ffo0);
		if (ffo0 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, ffo1);
		if (ffo1 !== 2&#39;d1)
			failed = 1;
		$display(&#34;%d&#34;, ffo2);
		if (ffo2 !== 2&#39;d2)
			failed = 1;
		$display(&#34;%d&#34;, ffo3);
		if (ffo3 !== 2&#39;d3)
			failed = 1;
		$display(&#34;%d&#34;, ffo4);
		if (ffo4 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, ffo5);
		if (ffo5 !== 2&#39;d1)
			failed = 1;
		$display(&#34;%d&#34;, ffo6);
		if (ffo6 !== 2&#39;d2)
			failed = 1;
		$display(&#34;%d&#34;, ffo7);
		if (ffo7 !== 2&#39;d3)
			failed = 1;
		$display(&#34;&#34;);
		$display(&#34;%d&#34;, ffz0);
		if (ffz0 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, ffz1);
		if (ffz1 !== 2&#39;d1)
			failed = 1;
		$display(&#34;%d&#34;, ffz2);
		if (ffz2 !== 2&#39;d2)
			failed = 1;
		$display(&#34;%d&#34;, ffz3);
		if (ffz3 !== 2&#39;d3)
			failed = 1;
		$display(&#34;%d&#34;, ffz4);
		if (ffz4 !== 2&#39;d3)
			failed = 1;
		$display(&#34;%d&#34;, ffz5);
		if (ffz5 !== 2&#39;d1)
			failed = 1;
		$display(&#34;%d&#34;, ffz6);
		if (ffz6 !== 2&#39;d2)
			failed = 1;
		$display(&#34;%d&#34;, ffz7);
		if (ffz7 !== 2&#39;d3)
			failed = 1;
		$display(&#34;&#34;);
		$display(&#34;%d&#34;, mrv0);
		if (mrv0 !== 2&#39;d0)
			failed = 1;
		$display(&#34;%d&#34;, mrv1);
		if (mrv1 !== 2&#39;d1)
			failed = 1;
		$display(&#34;%d&#34;, mrv2);
		if (mrv2 !== 2&#39;d2)
			failed = 1;
		$display(&#34;%d&#34;, mrv3);
		if (mrv3 !== 2&#39;d3)
			failed = 1;
		$display(&#34;%d&#34;, mrv4);
		if (mrv4 !== 2&#39;d0)
			failed = 1;
		$display(&#34;&#34;);
		if (failed)
			$display(&#34;FAILED&#34;);
		else
			$display(&#34;PASSED&#34;);
	end
endmodule

</pre>
</body>